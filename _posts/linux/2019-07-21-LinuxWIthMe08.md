---
layout: post
title: "è·Ÿæˆ‘å­¦Linuxâ€”â€”ç¬¬å…«ã€ä¹æ—¥"
subtitle: "ç¬¬7ç«  ä½¿ç”¨RAIDä¸ŽLVMç£ç›˜é˜µåˆ—æŠ€æœ¯"
author: "Twany"
header-img: "img/bg-scene/post-bg-three.jpg"
header-mask: 0.4
catalog: true
tags:
  - Linux
---

## RAIDï¼ˆç‹¬ç«‹å†—ä½™ç£ç›˜æŽ’åˆ—ï¼‰
> RAIDæŠ€æœ¯é€šè¿‡æŠŠå¤šä¸ªç¡¬ç›˜è®¾å¤‡ç»„åˆæˆä¸€ä¸ªå®¹é‡æ›´å¤§ã€å®‰å…¨æ€§æ›´å¥½çš„ç£ç›˜é˜µåˆ—ï¼Œå¹¶æŠŠæ•°æ®åˆ‡å‰²æˆå¤šä¸ªåŒºæ®µåŽåˆ†åˆ«å­˜æ”¾åœ¨å„ä¸ªä¸åŒçš„ç‰©ç†ç¡¬ç›˜è®¾å¤‡ä¸Šï¼Œç„¶åŽåˆ©ç”¨åˆ†æ•£è¯»å†™æŠ€æœ¯æ¥æå‡ç£ç›˜é˜µåˆ—æ•´ä½“çš„æ€§èƒ½ï¼ŒåŒæ—¶æŠŠå¤šä¸ªé‡è¦æ•°æ®çš„å‰¯æœ¬åŒæ­¥åˆ°ä¸åŒçš„ç‰©ç†ç¡¬ç›˜è®¾å¤‡ä¸Šï¼Œä»Žè€Œèµ·åˆ°äº†éžå¸¸å¥½çš„æ•°æ®å†—ä½™å¤‡ä»½æ•ˆæžœã€‚

#### RAID 0
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57x9rxdwvj306f06kaba.jpg)
**RAID 0èƒ½æœ‰æ•ˆæå‡ç¡¬ç›˜æ•°æ®çš„åžåé€Ÿåº¦ï¼Œä½†ä¸å…·å¤‡æ•°æ®å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ã€‚**

#### RAID 1
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xbb5xdsj3072081q4q.jpg)
**å°†ä¸¤å—ç¡¬ç›˜ç»‘å®šï¼Œå¯ç†è§£ä¸ºå³ä¾§ä¸ºå·¦ä¾§çš„å¤‡ä»½ï¼Œå¯ç”¨çŽ‡é™ä½Žï¼Œå¢žå¤§äº†ç³»ç»Ÿè®¡ç®—çš„è´Ÿè½½ã€‚**

#### RAID 5
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xd6n16kj30gr0brabm.jpg)
**ç¡¬ç›˜ä¸­`parity`éƒ¨åˆ†ä¸ºæ•°æ®å¥‡å¶æ ¡éªŒä¿¡æ¯ï¼ˆåŽ‹ç¼©è¿‡çš„ä¿¡æ¯ï¼‰ï¼Œâ€œå¦¥ååœ°â€å…¼é¡¾ç¡¬ç›˜è®¾å¤‡çš„è¯»å†™é€Ÿåº¦ã€æ•°æ®å®‰å…¨æ€§å’Œå­˜å‚¨æˆæœ¬é—®é¢˜ã€‚**

#### RAID 10
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xfm46aoj30k00b1agt.jpg)
**RAID 10 ä¸º RAID 0 å’Œ RAID 1 çš„ç»„åˆä½“ã€‚**

#### éƒ¨ç½²ç£ç›˜é˜µåˆ—
- `mdadm` å‘½ä»¤ç®¡ç†Linux2ç³»ç»Ÿä¸­çš„è½¯ä»¶RAIDç¡¬ç›˜é˜µåˆ—
  - `mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sdb /dev/sdc /dev/sdd /dev/sde`
  - ä¸Šè¿°å‘½ä»¤åˆ›å»ºRAID 10 ï¼Œåä¸º `/dev/md0`,è®¾å¤‡æ•°é‡ä¸º**4**ï¼ŒRAID çº§åˆ«ä¸º 10ï¼Œå››å—ç¡¬ç›˜åˆ†åˆ«ä¸º/dev/sdbcde
![](https://i.loli.net/2019/07/23/5d37238f0a9ec46739.png)

- ç£ç›˜é˜µåˆ—ç»„RAIDéƒ¨ç½²å¥½ä¹‹åŽï¼Œå°†å…¶æ ¼å¼åŒ–ä¸º `ext4`æ ¼å¼
  - `mkfs.ext4 /dev/md0`

- å†æ¬¡ï¼Œåˆ›å»ºæŒ‚è½½ç‚¹ç„¶åŽæŠŠç¡¬ç›˜è®¾å¤‡è¿›è¡ŒæŒ‚è½½æ“ä½œ
  - ```
    [root@linuxprobe ~]# mkdir /RAID
    [root@linuxprobe ~]# mount /dev/md0 /RAID   //æŒ‚è½½åœ¨æ–°å»ºç›®å½•/RAIDä¸‹
    ```

- æŠŠæŒ‚è½½ä¿¡æ¯å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿å…¶æ°¸ä¹…ç”Ÿæ•ˆ

#### ç£ç›˜ä¿®å¤
è¯¦è§ ðŸ‘‰ [ç¬¬ä¸ƒç« ](https://www.linuxprobe.com/chapter-07.html)

## LVMé€»è¾‘å·ç®¡ç†å™¨
##### ä½•ä¸ºLVMï¼Ÿ
**LVMæ˜¯ä¸€ç§éžå¸¸æ™®åŠçš„ç¡¬ç›˜èµ„æºç®¡ç†æŠ€æœ¯ï¼Œå…è®¸ç”¨æˆ·å¯¹ç¡¬ç›˜èµ„æºè¿›è¡ŒåŠ¨æ€è°ƒæ•´**

![](https://i.loli.net/2019/07/23/5d3725aa05cd111142.png)
![](https://i.loli.net/2019/07/23/5d3725846df2d66486.png)

è¯¦ç»†å¯è§ ä¸Šè¿°é“¾æŽ¥

> ðŸ˜˜ Mrs.Lgg

## å›¾ç‰‡ç¬”è®°
##### 7.21
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xonhx1oj30qo0e0abj.jpg)
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xoni4ikj30qo0e0wfz.jpg)
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xoning1j30qo0e0abd.jpg)
![](http://ww1.sinaimg.cn/large/006Sc6e5ly1g57xonkpxlj30t71hc44u.jpg)

##### 7.22
![](https://i.loli.net/2019/07/23/5d37261d572c719282.jpg)
![](https://i.loli.net/2019/07/23/5d37261e1376e20500.jpg)
![](https://i.loli.net/2019/07/23/5d37261ec394a48657.jpg)
![](https://i.loli.net/2019/07/23/5d37261f95fc468935.jpg)
